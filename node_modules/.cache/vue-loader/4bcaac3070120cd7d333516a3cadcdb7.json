{"remainingRequest":"D:\\vue-app\\blog-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-app\\blog-app\\src\\views\\WriteArticle\\components\\ArticleDetail.vue?vue&type=style&index=0&id=0ab56888&scoped=true&lang=css&","dependencies":[{"path":"D:\\vue-app\\blog-app\\src\\views\\WriteArticle\\components\\ArticleDetail.vue","mtime":1577106258976},{"path":"D:\\vue-app\\blog-app\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-app\\blog-app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\vue-app\\blog-app\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vue-app\\blog-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-app\\blog-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgkuV3JpdGVDb3Zlci11cGxvYWRJY29uIHsKCSAgICBjb2xvcjogcmdiYSgyNiwyNiwyNiwuMik7CgkJbWFyZ2luLXRvcDogNTBweDsKCX0KCgkuYnRuLWJvdHRvbiB7CgkgICAgICAgIHdpZHRoOiAxMDBweDsKCQkJICBoZWlnaHQ6IDUwcHg7CgkJICAgIGNvbG9yOiAjZjU2YzZjOwoJCSAgICBiYWNrZ3JvdW5kOiByZ2IoMjMyLCAxODEsIDE1MiwwLjMpOwoJCSAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjMyLCAxODEsIDE1MiwwLjMpOwoJCSAgICBib3JkZXItcmFkaXVzOiA1cHg7CgkJICAgIHBhZGRpbmc6IDEwcHggMjVweDsKCQkgICAgdGV4dC1hbGlnbjogY2VudGVyOwoJCSAgICBmb250LXNpemU6IDE2cHg7CgkJCW1hcmdpbi1sZWZ0OiAtMTNweDsKCQkgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDAuNyk7CgkJICAKCQkKCX0KICAuZm9ybS1jb250YWluZXIgewogICAgbWFyZ2luLXRvcDogNTBweDsKICB9CgogIC5lbC1kcm9wZG93bi1saW5rIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGNvbG9yOiAjNDA5RUZGOwogIH0KCiAgLmVsLWljb24tYXJyb3ctZG93biB7CiAgICBmb250LXNpemU6IDEycHg7CiAgfQo="},{"version":3,"sources":["ArticleDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"ArticleDetail.vue","sourceRoot":"src/views/WriteArticle/components","sourcesContent":[" <template>\n  <div style=\"margin-top: 150px\">\n    <el-form ref=\"postForm\" :model=\"postForm\" class=\"form-container\" :span=\"24\">\n\n      <div class=\"createPost-main-container\">\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item style=\"margin-bottom: 40px;\" prop=\"title\">\n              <el-input v-model=\"postForm.title\" :maxlength=\"100\" name=\"name\" placeholder=\"请输入文章标题\" required/>\n            </el-form-item>\n\n            <div class=\"postInfo-container\">\n              <el-row>\n                <el-col :span=\"4\">\n                  <el-form-item label-width=\"60px\" label=\"作者:\" class=\"postInfo-container-item\">\n                    <el-input v-model=\"postForm.author\" placeholder=\"作者\"/>\n                  </el-form-item>\n                </el-col>\n\n                <el-col :span=\"8\">\n                  <el-form-item label-width=\"60px\" label=\"话题:\" class=\"postInfo-container-item\">\n                    <el-select v-model=\"postForm.topicId\" placeholder=\"请选择\">\n                      <el-option\n                        v-for=\"item in topic_list\"\n                        :key=\"item.id\"\n                        :label=\"item.topicName\"\n                        :value=\"item.id\">\n                      </el-option>\n                    </el-select>\n                  </el-form-item>\n                </el-col>\n              </el-row>\n            </div>\n          </el-col>\n        </el-row>\n\n        \n\n        <el-form-item prop=\"content\" style=\"margin-bottom: 30px;\">\n          <quill-editor\n            v-model=\"postForm.content\"\n            ref=\"myQuillEditor\"\n            :options=\"editorOption\"\n            @blur=\"onEditorBlur($event)\"\n            @focus=\"onEditorFocus($event)\"\n            @change=\"onEditorChange($event)\"/>\n        </el-form-item>\n      </div>\n      <el-upload\n        class=\"upload-demo\"\n        drag\n        action=\"http://localhost:9091/api/upload\"\n        name=\"filename\"\n        :on-success=\"uploadSuccess\">\n        <svg class=\"Zi Zi--Camera WriteCover-uploadIcon\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"42\" height=\"42\"><path d=\"M20.094 6S22 6 22 8v10.017S22 20 19 20H4.036S2 20 2 18V7.967S2 6 4 6h3s1-2 2-2h6c1 0 2 2 2 2h3.094zM12 16a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0 1.5a5 5 0 1 0-.001-10.001A5 5 0 0 0 12 17.5zm7.5-8a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\" fill-rule=\"evenodd\"></path></svg>\r\n\n        <div class=\"el-upload__text\">将封面拖到此处，或<em>点击上传</em></div>\n      </el-upload>\n      <button @click=\"submitForm\" class=\"btn-botton\">发布</button>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import {quillEditor} from \"vue-quill-editor\"; //调用编辑器\n  import 'quill/dist/quill.core.css'\n  import 'quill/dist/quill.snow.css'\n  import 'quill/dist/quill.bubble.css'\n\n  export default {\n    name: 'ArticleDetail',\n    components: {quillEditor},\n    props: {\n      isEdit: {\n        type: Boolean,\n        default: false\n      }\n    },\n    data() {\n      return {\n        postForm: {\n          userId: JSON.parse(localStorage.user).id,\n          topicId: '',\n          title: '',\n          summary: '',\n          thumbnail: '',\n        },\n        editorOption: {},\n        topic_list: [\n          \"Demo\", \"Demo\", \"Demo\",\n        ]\n      }\n    },\n    mounted() {\n      this.init()\n    },\n    methods: {\n      init() {\n        this.axios.get(this.GLOBAL.baseUrl + '/topic/list', {\n          params: {}\n        }).then(res => {\n          this.topic_list = res.data.data\n        });\n      },\n      submitForm() {\n        console.log(this.postForm)\n\n        this.axios.post(this.GLOBAL.baseUrl + '/article/write',this.postForm).then(res => {\n          if (this.postForm.title === '') {\n            this.$message.error('相关内容不能为空')\n            return\n          }\n          console.log(res.data);\n          if (res.data.code === 1) {\n            this.$message({\n              message: '发表成功',\n              type: 'success'\n            });\n            console.log(this.postForm.userId);\n            this.$router.push({path: '/user_detail/' + this.postForm.userId})\n          } else {\n            this.$message.error('服务器出小差，请重试');\n          }\n        });\n      },\n      onEditorReady(editor) { // 准备编辑器\n\n      },\n      onEditorBlur() {\n      }, // 失去焦点事件\n      onEditorFocus() {\n      }, // 获得焦点事件\n      onEditorChange() {\n      }, // 内容改变事件\n      uploadSuccess(response, file, fileList) {\n        console.log(response)\n        if (response.code === 0) {\n          this.postForm.thumbnail = response.msg\n          this.$message({\n            message: '上传成功',\n            type: 'success'\n          });\n        }\n      }\n    },\n    computed: {\n      editor() {\n        return this.$refs.myQuillEditor.quill;\n      }\n    }\n  }\n</script>\n\n<style scoped>\r\n\t.WriteCover-uploadIcon {\r\n\t    color: rgba(26,26,26,.2);\r\n\t\tmargin-top: 50px;\r\n\t}\r\n\r\n\t.btn-botton {\r\n\t        width: 100px;\r\n\t\t\t  height: 50px;\r\n\t\t    color: #f56c6c;\r\n\t\t    background: rgb(232, 181, 152,0.3);\r\n\t\t    border: 1px solid rgb(232, 181, 152,0.3);\r\n\t\t    border-radius: 5px;\r\n\t\t    padding: 10px 25px;\r\n\t\t    text-align: center;\r\n\t\t    font-size: 16px;\r\n\t\t\tmargin-left: -13px;\r\n\t\t    -webkit-transform: scale(0.7);\r\n\t\t  \r\n\t\t\r\n\t}\n  .form-container {\n    margin-top: 50px;\n  }\n\n  .el-dropdown-link {\n    cursor: pointer;\n    color: #409EFF;\n  }\n\n  .el-icon-arrow-down {\n    font-size: 12px;\n  }\n</style>\n"]}]}